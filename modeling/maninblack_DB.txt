/* 상품 */
CREATE TABLE PRODUCT (
	PRO_SEQ NUMBER NOT NULL, /* 상품번호 */
	PRO_DETAIL VARCHAR2(4000) NOT NULL, /* 상품상세내용 */
	PRO_NAME VARCHAR2(100) NOT NULL, /* 상품이름 */
	ITEM VARCHAR2(50) NOT NULL, /* 카테고리 */
	SUB_ITEM VARCHAR2(50), /* 서브카테고리 */
	PRO_PRICE NUMBER NOT NULL, /* 가격 */
	DISCOUNT NUMBER, /* 세일가격 */
	MATERIAL VARCHAR2(50) NOT NULL, /* 소재 */
	WASH VARCHAR2(50) NOT NULL, /* 세탁방법 */
	BODYTYPE VARCHAR2(50), /* 모델체형 */
	PRO_CONTENT VARCHAR2(300) NOT NULL /* 상품설명 */
);

CREATE UNIQUE INDEX PK_PRODUCT
	ON PRODUCT (
		PRO_SEQ ASC
	);

ALTER TABLE PRODUCT
	ADD
		CONSTRAINT PK_PRODUCT
		PRIMARY KEY (
			PRO_SEQ
		);

/* 유저 */
CREATE TABLE MEMBERS (
	USER_ID VARCHAR2(100) NOT NULL, /* ID */
	USER_PW VARCHAR2(100) NOT NULL, /* PW */
	USER_NAME VARCHAR2(100) NOT NULL, /* 이름 */
	TEL VARCHAR2(50) NOT NULL, /* 전화번호 */
	ADDRESS VARCHAR2(300) NOT NULL, /* 주소 */
	POSTCODE VARCHAR2(100) NOT NULL, /* 우편번호 */
	SEX VARCHAR2(10) NOT NULL, /* 성별 */
	BIRTH VARCHAR2(12) NOT NULL, /* 생년월일 */
	EMAIL VARCHAR2(100) NOT NULL /* 이메일 */
);

CREATE UNIQUE INDEX PK_MEMBERS
	ON MEMBERS (
		USER_ID ASC
	);

CREATE UNIQUE INDEX UIX_MEMBERS
	ON MEMBERS (
		EMAIL ASC
	);

ALTER TABLE MEMBERS
	ADD
		CONSTRAINT PK_MEMBERS
		PRIMARY KEY (
			USER_ID
		);

ALTER TABLE MEMBERS
	ADD
		CONSTRAINT UK_MEMBERS
		UNIQUE (
			EMAIL
		);

/* 쿠폰 */
CREATE TABLE COUPON (
	COUP_SEQ NUMBER NOT NULL, /* 쿠폰번호 */
	COUP_NAME VARCHAR2(100) NOT NULL, /* 쿠폰이름 */
	COUP_PRICE NUMBER NOT NULL, /* 할인가격 */
	CONDITION NUMBER, /* 사용조건 */
	COUP_TIME VARCHAR2(12) NOT NULL, /* 지급일 */
	COUP_LIMIT VARCHAR2(12), /* 유효기간 */
	COUP_USE VARCHAR2(50) NOT NULL, /* 사용여부 */
	USER_ID VARCHAR2(100) NOT NULL /* ID */
);

CREATE UNIQUE INDEX PK_COUPON
	ON COUPON (
		COUP_SEQ ASC
	);

ALTER TABLE COUPON
	ADD
		CONSTRAINT PK_COUPON
		PRIMARY KEY (
			COUP_SEQ
		);

/* 판매(구매)내역 */
CREATE TABLE SALES (
	SEL_SEQ NUMBER NOT NULL, /* 주문번호 */
	SEL_TIME VARCHAR2(12) NOT NULL, /* 구매날짜 */
	PRO_SEQ NUMBER NOT NULL, /* 상품번호 */
	USER_ID VARCHAR2(100) NOT NULL, /* ID */
	DEL_SEQ NUMBER NOT NULL /* 배송번호 */
);

CREATE UNIQUE INDEX PK_SALES
	ON SALES (
		SEL_SEQ ASC
	);

ALTER TABLE SALES
	ADD
		CONSTRAINT PK_SALES
		PRIMARY KEY (
			SEL_SEQ
		);

/* 상품정보 */
CREATE TABLE PRO_DETAIL (
	DET_SEQ NUMBER NOT NULL, /* 시퀀스 */
	PRO_SEQ NUMBER NOT NULL, /* 상품번호 */
	PRO_SIZE VARCHAR2(50) NOT NULL, /* 사이즈 */
	COLOR VARCHAR2(50) NOT NULL, /* 색상 */
	STOCK NUMBER NOT NULL /* 재고 */
);

CREATE UNIQUE INDEX PK_PRO_DETAIL
	ON PRO_DETAIL (
		DET_SEQ ASC
	);

ALTER TABLE PRO_DETAIL
	ADD
		CONSTRAINT PK_PRO_DETAIL
		PRIMARY KEY (
			DET_SEQ
		);

/* 배송정보 */
CREATE TABLE DELIVERY (
	DEL_SEQ NUMBER NOT NULL, /* 배송번호 */
	DEL_ADDRESS VARCHAR2(100) NOT NULL, /* 배송주소 */
	DEL_POSTCODE VARCHAR2(100) NOT NULL, /* 우편번호 */
	DEL_NUMBER NUMBER NOT NULL, /* 운송장번호 */
	DEL_CONTENT VARCHAR2(300), /* 주의사항 */
	REC_NAME VARCHAR2(100) NOT NULL, /* 받는사람 */
	REC_TEL VARCHAR2(100) NOT NULL, /* 전화번호 */
	DEL_TIME VARCHAR2(12) NOT NULL, /* 배송일자 */
	DEL_PRICE NUMBER NOT NULL, /* 택배운송비 */
	SEL_NUM NUMBER NOT NULL, /* 구매수량 */
	DEL_STEP VARCHAR2(50) NOT NULL, /* 배송상태 */
	PRO_SEQ NUMBER NOT NULL, /* 상품번호 */
	USER_ID VARCHAR2(100) NOT NULL /* ID */
);

CREATE UNIQUE INDEX PK_DELIVERY
	ON DELIVERY (
		DEL_SEQ ASC
	);

ALTER TABLE DELIVERY
	ADD
		CONSTRAINT PK_DELIVERY
		PRIMARY KEY (
			DEL_SEQ
		);

/* 리뷰 */
CREATE TABLE REVIEW (
	REV_SEQ NUMBER NOT NULL, /* 리뷰번호 */
	REV_TITLE VARCHAR2(100) NOT NULL, /* 제목 */
	REV_CONTENT VARCHAR2(4000) NOT NULL, /* 내용 */
	REV_TIME VARCHAR2(12) NOT NULL, /* 작성일 */
	SCORE NUMBER NOT NULL, /* 평점 */
	REV_REF NUMBER NOT NULL, /* 그룹 */
	USER_ID VARCHAR2(100) NOT NULL, /* ID */
	PRO_SEQ NUMBER NOT NULL /* 상품번호 */
);

CREATE UNIQUE INDEX PK_REVIEW
	ON REVIEW (
		REV_SEQ ASC
	);

ALTER TABLE REVIEW
	ADD
		CONSTRAINT PK_REVIEW
		PRIMARY KEY (
			REV_SEQ
		);

/* 문의 */
CREATE TABLE QNA (
	QNA_SEQ NUMBER NOT NULL, /* 시퀀스 */
	QNA_TITLE VARCHAR2(100) NOT NULL, /* 제목 */
	QNA_CONTENT VARCHAR2(4000) NOT NULL, /* 내용 */
	QNA_TIME VARCHAR2(12) NOT NULL, /* 작성일 */
	QNA_OPEN VARCHAR2(50) NOT NULL, /* 공개여부 */
	QNA_REF NUMBER NOT NULL, /* 그룹 */
	QNA_TYPE VARCHAR2(50) NOT NULL, /* 문의구분 */
	QNA_STEP VARCHAR2(50) NOT NULL, /* 답변여부 */
	USER_ID VARCHAR2(100) NOT NULL, /* ID */
	PRO_SEQ NUMBER NOT NULL /* 상품번호 */
);

CREATE UNIQUE INDEX PK_QNA
	ON QNA (
		QNA_SEQ ASC
	);

ALTER TABLE QNA
	ADD
		CONSTRAINT PK_QNA
		PRIMARY KEY (
			QNA_SEQ
		);

/* 사진 */
CREATE TABLE PHOTO (
	PHOTO_SEQ NUMBER NOT NULL, /* 시퀀스 */
	STORED_NAME VARCHAR2(300), /* 저장된이름 */
	ORIGINAL_NAME VARCHAR2(300), /* 원본사진이름 */
	PRO_SEQ NUMBER, /* 상품번호 */
	EVENT_SEQ NUMBER, /* 이벤트번호 */
	REV_SEQ NUMBER /* 리뷰번호 */
);

CREATE UNIQUE INDEX PK_PHOTO
	ON PHOTO (
		PHOTO_SEQ ASC
	);

ALTER TABLE PHOTO
	ADD
		CONSTRAINT PK_PHOTO
		PRIMARY KEY (
			PHOTO_SEQ
		);

/* 적립금 */
CREATE TABLE POINTS (
	POINT_SEQ NUMBER NOT NULL, /* 시퀀스 */
	POINT_TIME VARCHAR2(12) NOT NULL, /* 날짜 */
	POINT_PRICE NUMBER NOT NULL, /* 금액 */
	POINT_FINAL NUMBER NOT NULL, /* 최종금액 */
	INCREASE VARCHAR2(50) NOT NULL, /* 증감여부 */
	USER_ID VARCHAR2(100) NOT NULL, /* ID */
	PRO_SEQ NUMBER NOT NULL /* 상품번호 */
);

CREATE UNIQUE INDEX PK_POINTS
	ON POINTS (
		POINT_SEQ ASC
	);

ALTER TABLE POINTS
	ADD
		CONSTRAINT PK_POINTS
		PRIMARY KEY (
			POINT_SEQ
		);

/* 공지게시판 */
CREATE TABLE NOTICE_BOARD (
	NOTICE_SEQ NUMBER NOT NULL, /* 시퀀스 */
	NOTICE_TITLE VARCHAR2(100) NOT NULL, /* 제목 */
	NOTICE_CONTENT VARCHAR2(4000) NOT NULL, /* 내용 */
	NOTICE_TIME VARCHAR2(12) NOT NULL /* 날짜 */
);

CREATE UNIQUE INDEX PK_NOTICE_BOARD
	ON NOTICE_BOARD (
		NOTICE_SEQ ASC
	);

ALTER TABLE NOTICE_BOARD
	ADD
		CONSTRAINT PK_NOTICE_BOARD
		PRIMARY KEY (
			NOTICE_SEQ
		);

/* 이벤트게시판 */
CREATE TABLE EVENT_BOARD (
	EVENT_SEQ NUMBER NOT NULL, /* 이벤트번호 */
	EVENT_TITLE VARCHAR2(100) NOT NULL, /* 제목 */
	EVENT_CONTENT VARCHAR2(4000) NOT NULL, /* 내용 */
	EVENT_TIME VARCHAR2(12) NOT NULL /* 작성일 */
);

CREATE UNIQUE INDEX PK_EVENT_BOARD
	ON EVENT_BOARD (
		EVENT_SEQ ASC
	);

ALTER TABLE EVENT_BOARD
	ADD
		CONSTRAINT PK_EVENT_BOARD
		PRIMARY KEY (
			EVENT_SEQ
		);

/* 장바구니 */
CREATE TABLE BASKET (
	BAS_SEQ NUMBER NOT NULL, /* 시퀀스 */
	PRO_SEQ NUMBER NOT NULL, /* 상품번호 */
	USER_ID VARCHAR2(100) NOT NULL /* ID */
);

CREATE UNIQUE INDEX PK_BASKET
	ON BASKET (
		BAS_SEQ ASC
	);

ALTER TABLE BASKET
	ADD
		CONSTRAINT PK_BASKET
		PRIMARY KEY (
			BAS_SEQ
		);

create sequence BAS_SEQ
   start with 1 increment by 1;
  
  create sequence PRO_SEQ
   start with 1 increment by 1;
  
  create sequence REV_SEQ
   start with 1 increment by 1;
  
  create sequence DEL_SEQ
   start with 1 increment by 1;
  
  create sequence USER_ID
   start with 1 increment by 1;
  
  create sequence QNA_SEQ
   start with 1 increment by 1;
  
  create sequence COUP_SEQ
   start with 1 increment by 1;
   
   create sequence SEL_SEQ
   start with 1 increment by 1;
   
   create sequence POINT_SEQ
   start with 1 increment by 1;
   
   create sequence NOTICE_SEQ
   start with 1 increment by 1;
   
   create sequence PHOTO_SEQ
   start with 1 increment by 1;
   
   create sequence EVENT_SEQ
   start with 1 increment by 1;
   
   create sequence DET_SEQ
   start with 1 increment by 1;
   
   COMMIT;